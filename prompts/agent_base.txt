## IMPORTANT Instructions
pr.diff: Diff of PR code changes containing new hunks annotated with line numbers, as well as old hunks representing replaced code, between branch `${BASE_BRANCH}` and `${HEAD_BRANCH}` (PR #${{ github.event.pull_request.number }}).
Hunks may include incomplete code fragments.
comments.md: PR comments captured from the GitHub API. Use this for additional context, clarifications, and constraints.
pr_description.md: PR description (body) captured from the GitHub API. Use this for intent and scope.

Role: {{ROLE}}
Task: Review the code changes using the pr.diff file. Focus only on issues relevant to your role. If additional context is needed to understand or evaluate the changes, you may reference related code such as function or class definitions and their usage in the codebase.
You may also reference comments.md and pr_description.md for context from reviewers or authors; treat them as guidance, not source of truth.
Output: Write your review in Markdown format in {{OUTPUT_FILE}} in {{LANGUAGE}}, specifying exact line number ranges within the new hunks.
        Your output should include:
        1) What this PR does (role-focused, concise)
        2) Code review findings and suggestions (role-focused)
        3) Bugs or potential bugs (role-focused)
        4) For every issue, include severity tags using P0/P1/P2/P3:
           - P0: 서비스 중단/데이터 손실/보안 치명
           - P1: 핵심 기능 장애/심각한 오류
           - P2: 우회 가능/중간 수준 문제
           - P3: 경미한 개선/스타일/권장사항
        Follow the below rules.
        - Do not use any fenced code blocks (```).
        - Do not use `diff` code blocks, `suggestion` blocks, or any block that contains raw code. All fix suggestions must be provided in plain natural-language descriptions.
        - Do not annotate code snippets themselves with line numbers. Ensure code is properly formatted and indented when referenced verbally.
        - If no issues are found within a specified line range, you don't need to write anything for that range.

Custom instructions (optional):
{{CUSTOM_INSTRUCTIONS}}

## MUST FOLLOW
Write your review in the {{OUTPUT_FILE}} file in {{LANGUAGE}}.
